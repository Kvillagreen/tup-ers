<!--For Dashboard of Student-->
<div *ngIf="!urlVerifier && userType==='student'"
    class="flex justify-between items-center w-full h-full bg-gradient-to-r px-3  from-red-800 via-red-400 to-red-800 bg-fixed ">
    <button #sideBar (click)="isSideBarHidden=!isSideBarHidden" class="md:hidden flex">
        <div>
            <svg class="size-8 stroke-gray-50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 7H19" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M5 12L19 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M5 17L19 17" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </div>
    </button>
    <div class="flex items-center w-full leading-none">
        <img src="/assets/images/tupSeal.png" class="size-20 p-2 object-cover">
        <p class="md:text-[14px] lg:text-lg text-sm font-semibold  text-red-100 leading-none">TECHNOLOGICAL UNIVERSITY
            OF THE
            PHILIPPINES</p>
    </div>
    <div class="hidden md:flex w-[200px] md:w-full justify-end space-x-2 h-full">
        <a [routerLink]="['/dashboard']" routerLinkActive="active" class="navButton">
            <p class="leading-none">Home</p>
        </a>
        <a [routerLink]="['/receive-petition']" routerLinkActive="active" class="navButton">
            <p class="leading-none">Recieve Petitions</p>
        </a>
        <a [routerLink]="['/view-petition']" routerLinkActive="active" class="navButton">
            <p class="leading-none">View Petitions</p>
        </a>
        <a [routerLink]="['/track-petition']" routerLinkActive="active" class="navButton">
            <p class="leading-none">Track Petitions</p>
        </a>
        <div #dropDown (click)="settingsDropdown=!settingsDropdown"
            class="flex items-center h-7 px-2 py-2 cursor-pointer text-xs lg:text-sm text-white font-bold leading-none">
            {{tupvId}}<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-chevron-down">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg></span></div>
    </div>
    <div *ngIf="settingsDropdown"
        class=" animate-swipeDown absolute hidden md:flex flex-col text-center px-2 text-white py-5 top-16 right-4 rounded-md h-[350px] md:h-[285px] w-[200px] bg-[#c1121f] z-10 shadow-md shadow-gray-800">
        <div
            class="absolute -top-3 right-2 w-0 h-0 border-l-[20px] border-r-[20px] border-b-[20px] border-l-transparent border-r-transparent border-[#c1121f]">
        </div>
        <p class="text-white text-lg font-semibold">{{extras.toTitleCaseSafe(fullName)}}</p>
        <p class="text-sm">{{program}}</p>
        <hr class="mt-2">
        <div class="flex flex-col w-full h-full space-y-2 py-2">
            <a [routerLink]="['/messages']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-between px-8 space-x-2 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8">
                    <path
                        d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z" />
                    <path
                        d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z" />
                </svg>
                <div
                    class="absolute  flex size-4 justify-center font-bold items-center top-[95px] right-[150px] text-[8px] rounded-full bg-red-800 z-10">
                    {{checkLength()}}</div>
                <span class="w-full">Messages</span>
            </a>
            <a [routerLink]="['/profile']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-between px-8 space-x-2 items-center">
                <img src="/assets/svg/user.svg" class="size-6"><span class="w-full">Profile</span>
            </a>
            <a [routerLink]="['/history']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-between px-8 space-x-2 items-center">
                <img src="/assets/svg/history.svg" size-6><span class="w-full">History</span>
            </a>
            <a (click)="isLoggedIn=!isLoggedIn" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-between px-8 space-x-2 items-center"><img
                    src="/assets/svg/logout.svg" size-6><span class="w-full">Logout</span></a>
        </div>
    </div>
    <div #sideBar *ngIf="isSideBarHidden"
        class="animate-slide-in-right md:hidden fixed flex flex-col text-center px-2 text-white py-5 top-0 left-0 rounded-md min-h-screen w-[250px] bg-red-800 z-10 shadow-md shadow-gray-800">
        <p class="text-white text-lg font-semibold">{{extras.toTitleCaseSafe(fullName)}}</p>
        <p class="text-sm">{{program}}</p>
        <hr class="mt-[12px]">
        <div class="flex flex-col justify-between items-center w-full space-y-2 pt-2"><a [routerLink]="['/dashboard']"
                routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/home.svg"><span>Home</span>
            </a><a [routerLink]="['/receive-petition']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/receive.svg"><span>Recieve Petitions</span>
            </a><a [routerLink]="['/view-petition']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/view.svg"><span>View Petitions</span>
            </a><a [routerLink]="['/track-petition']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/tracking.svg"><span>Track Petitions</span>
            </a>
            <a [routerLink]="['/profile']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/user.svg"><span>Profile</span>
            </a> <a [routerLink]="['/messages']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path
                        d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z" />
                    <path
                        d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z" />
                </svg><span>Messages</span>
                <div
                    class="absolute  flex size-4 justify-center font-bold items-center top-[328px] left-[10px] text-[8px] rounded-full bg-red-800 z-0">
                    {{checkLength()}}</div>
            </a>
            <a [routerLink]="['/history']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/history.svg"><span>History</span>
            </a>
            <a (click)="isLoggedIn=!isLoggedIn" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/logout.svg"><span>Logout</span></a>
        </div>
    </div>
</div>

<!--For Dashboard of Faculty-->
<div *ngIf="!urlVerifier && userType==='faculty'"
    class="flex justify-between items-center w-full h-full bg-gradient-to-r px-3  from-red-800 via-red-400 to-red-800 bg-fixed ">
    <button #sideBar (click)="isSideBarHidden=!isSideBarHidden" class="md:hidden flex">
        <div>
            <svg class="size-8 stroke-gray-50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 7H19" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M5 12L19 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M5 17L19 17" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </div>
    </button>
    <div class="flex items-center w-full h-full">
        <img src="/assets/images/tupSeal.png" class="size-20 p-2 object-cover">
        <p class="md:text-[14px] lg:text-lg text-sm font-semibold  text-red-100 leading-none">TECHNOLOGICAL UNIVERSITY
            OF THE
            PHILIPPINES</p>
    </div>
    <div class="hidden md:flex w-[200px] md:w-full justify-end space-x-2">
        <a *ngIf="facultyType=='Faculty Staff'" [routerLink]="['/faculty/dashboard']" routerLinkActive="active" class="navButton">
            <p class="leading-none">Home</p>
        </a>
        <a [routerLink]="['/faculty/receive-petition']" routerLinkActive="active" class="hidden">
            <p class="leading-none">Recieve Petitions</p>
        </a>
        <a [routerLink]="['/faculty/view-petition']" routerLinkActive="active" class="navButton">
            <p class="leading-none">Petitions</p>
        </a>
        <a *ngIf="restrictService.isAdminViewable()" [routerLink]="['/faculty/faculty-management']"
            routerLinkActive="active" class="navButton">
            <p class="leading-none">Faculty Managament</p>
        </a>
        <a *ngIf="restrictService.isAdminViewable()" [routerLink]="['/faculty/student-management']"
            routerLinkActive="active" class="navButton">
            <p class="leading-none">Student Managament</p>
        </a>
        <a [routerLink]="['/faculty/track-petition']" routerLinkActive="active" class="hidden">
            <p class="leading-none">Track Petitions</p>
        </a>
        <div #dropDown (click)="settingsDropdown=!settingsDropdown"
            class="flex items-center h-7 px-2 py-2 text-xs lg:text-sm cursor-pointer text-white font-bold leading-none">
            {{facultyType}}<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-chevron-down">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg></span></div>
    </div>
    <div *ngIf="settingsDropdown"
        class="animate-swipeDown absolute hidden md:flex flex-col text-center px-2 text-white py-5 top-16 right-4 rounded-md h-[350px] md:h-[280px] w-[200px] bg-[#c1121f] z-10 shadow-md shadow-gray-800">
        <div
            class="absolute -top-3 right-2 w-0 h-0 border-l-[20px] border-r-[20px] border-b-[20px] border-l-transparent border-r-transparent border-[#c1121f]">
        </div>
        <p class="text-white text-lg font-semibold">{{extras.toTitleCaseSafe(facultyFullName)}}</p>
        <p class="text-sm">{{facultyProgram}}</p>
        <hr class="mt-2">
        <div class="flex flex-col w-full space-y-2 pt-2">
            <a [routerLink]="['/faculty/profile']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-center space-x-2 items-center">
                <img src="/assets/svg/user.svg"><span>Profile</span>
            </a>
            <div *ngIf="restrictService.isAdminViewable()">
                <a [routerLink]="['/faculty/report']" routerLinkActive=""
                    class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-center space-x-2 items-center">
                    <img src="/assets/svg/report.svg"><span>Report</span>
                </a>
            </div>
            <div>
                <a [routerLink]="['/faculty/faculty-history']" routerLinkActive=""
                    class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-center space-x-2 items-center">
                    <img src="/assets/svg/history.svg"><span>History</span>
                </a>
            </div>
            <a (click)="isLoggedIn=!isLoggedIn"
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-center space-x-2 items-center"><img
                    src="/assets/svg/logout.svg"><span>Logout</span></a>
        </div>
    </div>
    <div #sideBar *ngIf="isSideBarHidden"
        class="md:hidden animate-slide-in-right fixed flex flex-col text-center px-2 text-white py-5 top-0 left-0 rounded-md min-h-screen w-[250px] bg-red-800 z-10 shadow-md shadow-gray-800">
        <p class="text-white text-lg font-semibold">{{facultyFullName}}</p>
        <p class="text-sm">{{facultyProgram}}</p>
        <hr class="mt-[12px]">
        <div class="flex flex-col justify-between items-center w-full space-y-2 pt-2">
            <a *ngIf="facultyType=='Faculty Staff'"
                [routerLink]="['/faculty/dashboard']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/home.svg"><span>Home</span>
            </a><a [routerLink]="['/faculty/dashboard']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 hidden justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/receive.svg"><span>Recieve Petitions</span>
            </a><a [routerLink]="['/faculty/view-petition']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/view.svg"><span>View Petitions</span>
            </a><a [routerLink]="['/faculty/dashboard']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 hidden justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/tracking.svg"><span>Track Petitions</span>
            </a>
            <a [routerLink]="['/faculty/profile']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/user.svg"><span>Profile</span>
            </a>
            <a *ngIf="restrictService.isAdminViewable()" [routerLink]="['/faculty/faculty-management']"
                routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/report.svg"><span>Faculty Management</span>
            </a>
            <a *ngIf="restrictService.isAdminViewable()" [routerLink]="['/faculty/student-management']"
                routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/report.svg"><span>Student Management</span>
            </a>
            <a [routerLink]="['/faculty/faculty-history']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/history.svg"><span>History</span>
            </a>
            <a *ngIf="restrictService.isAdminViewable()" [routerLink]="['/faculty/report']" routerLinkActive=""
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/report.svg"><span>Report</span>
            </a>
            <a (click)="isLoggedIn=!isLoggedIn"
                class="w-full hover:bg-red-300 hover:rounded-sm py-2 flex justify-start space-x-2 px-4 items-center">
                <img src="/assets/svg/logout.svg"><span>Logout</span></a>
        </div>
    </div>
</div>

<!--For Login, Sign up and Reset password Pages -->
<div *ngIf="urlVerifier "
    class="flex w-full h-20 bg-gradient-to-r shadow-md shadow-red-950 from-red-800 via-red-400 to-red-800 items-center px-3 bg-cover bg-fixed ">
    <div class="flex items-center">
        <img src="/assets/images/tupSeal.png" class="size-20 p-2 object-cover">
        <p class="md:text-lg text-sm font-semibold text-red-100">TECHNOLOGICAL UNIVERSITY OF THE PHILIPPINES</p>
    </div>
</div>


<!--Modal everytime user select logout this is the one who prompt, for verification purpose -->
<div *ngIf="isLoggedIn">
    <div class="animate-fadeInNew fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-[100]">
        <div
            class="w-[350px] h-[350px] bg-red-300 border-2 shadow-md shadow-red-900 border-red-400 rounded-md text-red-900 p-8 flex flex-col align-center relative">
            <div class="flex w-full justify-center items-center text-center text-lg font-semibold h-[200px]">
                <p>Are you sure you'd like to logout your account ?</p>
            </div>
            <div class="flex justify-between items-center w-full  font-semibold">
                <button (click)="isLoggedIn=!isLoggedIn"
                    class="w-32 px-2 py-3 h-full bg-orange-500 text-white hover:text-gray-300  hover:bg-orange-900 rounded-md">
                    Cancel
                </button>
                <button (click)="isLoggedIn=!isLoggedIn;logout()"
                    class="w-32 px-2 py-3 h-full  bg-red-500 text-white hover:text-gray-300  hover:bg-red-900  rounded-md">
                    Logout
                </button>
            </div>
        </div>
    </div>
</div>

<div *ngIf="autoLogout">
    <div class="animate-fadeInNew fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-[100]">
        <div
            class="w-[350px] h-[350px] bg-red-300 border-2 shadow-md shadow-red-900 border-red-400 rounded-md text-red-900 p-8 flex flex-col align-center relative">
            <div class="flex w-full justify-center items-center text-center text-lg font-semibold h-[200px]">
                <p>Your session has expired due to inactivity. Please log in again to continue.</p>
            </div>
            <div class="flex justify-end items-center w-full  font-semibold">
                <button (click)="autoLogout=false"
                    class="w-32 px-2 py-3 h-full bg-red-500 text-white hover:text-gray-300  hover:bg-red-900  rounded-md">
                    Okay
                </button>
            </div>
        </div>
    </div>
</div>


<div *ngIf="isSideBarHidden">
    <div
        class="md:hidden animate-fadeInNew fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-[1]">
    </div>
</div>